/* 기본 글꼴/리셋 */
:root {
	--bg: #ffffff;
	--text: #1b1f23;
	--muted: #6b7280;
	--line: #d1d5db;
	--line-strong: #111827;
	--brand: #111827;
	--pink: #fde2e7;
	--yellow: #fff2cc;
	--sky: #e6f4ff;
	--green: #e7f6ec;
	--total-bg: #e5e7eb;
	--memo-bg: #f3f4f6;
	--danger: #c53030;
	--accent: #2563eb;
}
* { box-sizing: border-box; }
html, body {
	margin: 0;
	padding: 0;
	background: var(--bg);
	color: var(--text);
	font-family: Pretendard, "Noto Sans KR", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
	font-size: 14px;
}
button, input, select, textarea { font-family: inherit; font-size: 14px; }

.container {
	max-width: 1200px;
	margin: 20px auto;
	padding: 0 16px 40px;
}

/* 상단 조작 영역 */
.actions {
	display: flex;
	flex-wrap: wrap;
	gap: 8px;
	margin: 8px 0 16px;
}
/* 탭 바 */
.tabbar {
	display: flex;
	align-items: center;
	gap: 6px;
	overflow: hidden;
	padding-bottom: 6px;
	margin-bottom: 8px;
}
.tabs-scroll {
	flex: 1;
	overflow-x: auto;
	overflow-y: hidden;
	white-space: nowrap;
	scroll-behavior: smooth;
	mask-image: linear-gradient(to right, transparent 0, black 16px, black calc(100% - 16px), transparent 100%);
	scrollbar-width: none; /* Firefox */
	-ms-overflow-style: none; /* IE/Edge */
}
.tabs-scroll::-webkit-scrollbar { display: none; } /* WebKit */
.tabs {
	display: inline-flex;
	align-items: center;
	gap: 6px;
}
.tab {
	border: 1px solid var(--line);
	background: #fff;
	padding: 6px 10px;
	border-radius: 999px;
	cursor: pointer;
	white-space: nowrap;
	max-width: 220px;
	text-overflow: ellipsis;
	overflow: hidden;
}
.tab.active {
	background: var(--accent);
	color: #fff;
	border-color: var(--accent);
}
.tabbar .spacer { display:none; }
/* 드래그 앤 드롭 시각 */
.drag-over { outline: 2px dashed #9ca3af; }
.btn {
	border: 1px solid var(--line);
	background: #fff;
	padding: 8px 12px;
	border-radius: 8px;
	cursor: pointer;
}
.btn.primary { background: var(--accent); color: #fff; border-color: var(--accent); }
.btn.danger { background: #fff; color: var(--danger); border-color: #ef4444; }
.btn:focus { outline: 2px solid var(--accent); outline-offset: 1px; }

/* 입력 패널 */
details.input-panel {
	border: 1px solid var(--line);
	border-radius: 10px;
	background: #fff;
	box-shadow: 0 1px 2px rgba(0,0,0,.03);
	margin-bottom: 16px;
}
details.input-panel > summary {
	padding: 14px 16px;
	cursor: pointer;
	font-weight: 700;
	background: #fafafa;
	border-bottom: 1px solid var(--line);
	user-select: none;
}
.panel-body {
	padding: 16px;
	display: grid;
	gap: 16px;
}
.section {
	border: 1px dashed #e5e7eb;
	border-radius: 8px;
	padding: 12px;
}
.section h3 {
	margin: 0 0 10px;
	font-size: 13px;
	color: #374151;
}
.grid-2 {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 12px;
}
.grid-3 {
	display: grid;
	grid-template-columns: repeat(3, 1fr);
	gap: 12px;
}
.col-span-2 { grid-column: span 2; }
label.field { display: grid; gap: 6px; }
label.field span { color: #374151; font-weight: 600; }
input[type="text"], input[type="number"], input[type="date"], textarea {
	border: 1px solid var(--line);
	border-radius: 8px;
	padding: 8px 10px;
	background: #fff;
}
/* MEMO 텍스트박스가 섹션 폭에 맞게 */
#input-memo { width: 100%; }
input[type="number"] { text-align: right; }
.small { font-size: 12px; color: var(--muted); }

/* 테이블 & 레이아웃 */
#printArea {
	background: #fff;
}
.header {
	text-align: center;
	font-weight: 800;
	font-size: 24px;
	margin: 12px 0 8px;
}
.sheet {
	display: grid;
	grid-template-columns: 1fr;
	gap: 12px;
	align-items: start;
}
@media (max-width: 1024px) {
	.sheet { grid-template-columns: 1fr; }
}

table {
	width: 100%;
	border-collapse: collapse;
	background: #fff;
}
th, td {
	border: 1px solid var(--line);
	padding: 8px 10px;
	vertical-align: middle;
}
th {
	background: #f9fafb;
	text-align: center;
	font-weight: 700;
}
td.num { text-align: right; font-variant-numeric: tabular-nums; }
td.name { white-space: nowrap; }
td .note { color: var(--muted); font-size: 12px; margin-left: 6px; }
tr.total-row th, tr.total-row td {
	border-top: 2px solid var(--line-strong);
	border-bottom: 2px solid var(--line-strong);
	background: var(--total-bg);
	font-weight: 800;
}
.badge {
	display: inline-block;
	border: 1px solid #9ca3af;
	color: #374151;
	background: #f3f4f6;
	font-size: 11px;
	padding: 1px 6px;
	border-radius: 999px;
	margin-left: 6px;
}
.group-pink { background: var(--pink); }
.group-yellow { background: var(--yellow); }
.group-sky { background: var(--sky); }
.group-green { background: var(--green); }

/* 우측 메모 박스 */
.memo-box {
	border: 2px solid var(--line-strong);
	border-radius: 8px;
	background: var(--memo-bg);
	padding: 10px;
}
.memo-box h4 {
	margin: 0 0 8px;
	font-size: 14px;
}
.memo-content { white-space: pre-wrap; min-height: 240px; }

/* 하단 요약 */
.footer {
	margin-top: 10px;
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 12px;
}
@media (max-width: 1024px) {
	.footer { grid-template-columns: 1fr; }
}
.summary-table th, .summary-table td { text-align: right; }
.summary-table th:first-child, .summary-table td:first-child { text-align: left; }
.kpi {
	margin-top: 8px;
	display: grid;
	grid-template-columns: repeat(4, 1fr);
	gap: 8px;
}
.kpi .tile {
	border: 1px solid var(--line);
	border-radius: 8px;
	padding: 10px;
	background: #fff;
	text-align: center;
}
.kpi .tile .label { color: var(--muted); font-size: 12px; }
.kpi .tile .value { font-size: 18px; font-weight: 800; }

/* 수입 항목 행 - 반응형 보완 */
#income-list { overflow-x: auto; }
.income-row {
	display: grid;
	grid-template-columns: 16px 1fr 130px 120px 80px;
	gap: 8px;
	margin-bottom: 6px;
	min-width: 460px; /* 내부가 줄바꿈되며 깨지지 않도록 최소 너비 확보 */
}
@media (max-width: 920px) {
	.income-row {
		grid-template-columns: 1fr 1fr;
		min-width: 0;
	}
}

/* 인센티브/멤버 행 스타일(인라인 스타일 제거용) */
.incentive-row {
	display: grid;
	grid-template-columns: 16px 1fr 140px 1fr 80px;
	gap: 8px;
	margin-bottom: 6px;
}
.member-row {
	display: grid;
	grid-template-columns: 16px minmax(150px, 1fr) 160px 110px 1fr 82px;
	gap: 8px;
	margin-bottom: 6px;
}

/* 드래그 핸들 */
.drag-handle {
	display: inline-block;
	width: 12px;
	height: 24px;
	border-radius: 4px;
	background:
		radial-gradient(circle at 30% 25%, #9ca3af 1.5px, transparent 1.5px),
		radial-gradient(circle at 70% 25%, #9ca3af 1.5px, transparent 1.5px),
		radial-gradient(circle at 30% 50%, #9ca3af 1.5px, transparent 1.5px),
		radial-gradient(circle at 70% 50%, #9ca3af 1.5px, transparent 1.5px),
		radial-gradient(circle at 30% 75%, #9ca3af 1.5px, transparent 1.5px),
		radial-gradient(circle at 70% 75%, #9ca3af 1.5px, transparent 1.5px);
	background-color: transparent;
	cursor: grab;
	align-self: center;
	justify-self: center;
	user-select: none;
	touch-action: none;
}
.drag-handle:active { cursor: grabbing; }

/* 드래그 이미지(행 전체 미리보기) */
.drag-ghost {
	box-shadow: 0 6px 18px rgba(0,0,0,.18);
	border: 1px solid var(--line);
	background: #fff;
}

/* 인쇄 스타일 */
@media print {
	.container { max-width: none; margin: 0; padding: 0; }
	.actions, details.input-panel { display: none !important; }
	body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
	@page { size: A4 landscape; margin: 12mm; }
	.sheet, .footer, .header { break-inside: avoid; page-break-inside: avoid; }
}


